<!doctype html>
<html lang="vi">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Leaflet Map Template</title>

        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
        />
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
            rel="stylesheet"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/@geoman-io/leaflet-geoman-free@2.17.0/dist/leaflet-geoman.css"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet-measure@3.1.0/dist/leaflet-measure.css"
        />

        <style>
            html,
            body {
                height: 100%;
                overflow: hidden;
            }

            #map {
                height: calc(98vh - 40px);
                width: 100%;
                border-radius: 0.375rem;
            }

            .panel-scroll {
                height: 98vh;
                overflow-y: auto;
            }

            .card {
                border-radius: 0.375rem;
            }

            .card-header {
                padding: 0.5rem 0.75rem;
            }

            .card-body {
                padding: 0.75rem;
            }

            .wms-feature-popup .leaflet-popup-content-wrapper {
                padding: 0;
                border-radius: 6px;
                overflow: hidden;
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
            }

            .wms-feature-popup .leaflet-popup-content {
                margin: 0;
                line-height: 1.4;
            }

            .wms-feature-popup .leaflet-popup-tip {
                box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            }
        </style>
    </head>

    <body class="bg-light">
        <div class="container-fluid mt-2">
            <div class="row g-2">
                <!-- Cot 1: Ban do -->
                <div class="col-lg-8">
                    <div class="card shadow-sm h-100">
                        <div
                            class="card-header d-flex align-items-center justify-content-between py-1"
                        >
                            <h6 class="mb-0 small">
                                <i class="bi bi-geo-alt-fill text-danger"></i>
                                Ban do
                            </h6>
                            <span
                                class="badge bg-success"
                                id="mapStatus"
                                style="font-size: 0.7rem"
                                >San sang</span
                            >
                        </div>
                        <div class="card-body p-1">
                            <div id="map"></div>
                        </div>
                    </div>
                </div>

                <!-- Cot 2: Cong cu (sinh dong boi ControlManager) -->
                <div class="col-lg-4">
                    <div class="panel-scroll" id="sidebar"></div>
                </div>
            </div>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
        <script src="https://unpkg.com/@turf/turf@7/turf.min.js"></script>
        <script src="https://unpkg.com/@geoman-io/leaflet-geoman-free@2.17.0/dist/leaflet-geoman.min.js"></script>
        <script src="https://unpkg.com/leaflet-measure@3.1.0/dist/leaflet-measure.js"></script>

        <!-- Module 1: WFSUtil -->
        <script src="assets/js/leaflet/leaflet-wfs-util.js"></script>
        <!-- Module 2: WMSLayerManager -->
        <script src="assets/js/leaflet/leaflet-wms-manager.js"></script>
        <!-- Module 3: PointManager -->
        <script src="assets/js/leaflet/leaflet-point-manager.js"></script>
        <!-- Module 4: SketchManager -->
        <script src="assets/js/leaflet/leaflet-sketch-manager.js"></script>

        <script src="assets/js/http-request/fetch.js"></script>
        <script src="assets/js/auto-fill/fill-select.js"></script>
        <script src="assets/js/province-commune-select/events.js"></script>
        <script src="assets/js/province-commune-select/load-fill.js"></script>

        <!-- Coordinate System Support -->
        <script src="assets/js/leaflet/coordinate-utils.js"></script>

        <!-- Module 5: ControlManager -->
        <script src="assets/js/leaflet/leaflet-control-manager.js"></script>

        <!-- Map Application Core -->
        <script src="assets/js/leaflet/map-config.js"></script>
        <script src="assets/js/leaflet/map-core.js"></script>
        <script src="assets/js/leaflet/index.js"></script>
    </body>
</html>
